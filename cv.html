<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Code Editor</title>
    <style>
      body {
        margin: 0;
        padding: 0;
        font-family: monospace;
        background-color: #282c34;
        color: #abb2bf;
      }

      #editor {
        width: 100%;
        height: 100vh;
        overflow: auto;
        font-size: 16px;
        white-space: pre;
        tab-size: 4;
      }

      .token.comment,
      .token.prolog,
      .token.doctype,
      .token.cdata {
        color: #999;
      }

      .token.punctuation {
        color: #ccc;
      }

      .namespace {
        opacity: .7;
      }

      .token.property,
      .token.keyword,
      .token.tag {
        color: #96CBFE;
      }

      .token.class-name {
        color: #FFA07A;
      }

      .token.boolean,
      .token.constant {
        color: #99CC99;
      }

      .token.symbol,
      .token.deleted {
        color: #f92672;
      }

      .token.number {
        color: #FF73FD;
      }

      .token.string {
        color: #B5CEA8;
      }

      .token.attr-name {
        color: #D0D0FF;
      }

      .token.attr-value {
        color: #FFA07A;
      }

      .token.operator {
        color: #EDEDED;
      }

      .token.entity,
      .token.url,
      .language-css .token.string,
      .style .token.string {
        color: #B4F4FF;
      }

      .token.regex,
      .token.important {
        color: #FFD700;
      }

      .token.atrule,
      .token.keyword {
        color: #FFC66D;
      }

      .token.function {
        color: #F08D49;
      }

      .token.variable {
        color: #C6C5FE;
      }

      .token.italic {
        font-style: italic;
      }

      .token.important {
        font-weight: bold;
      }

      .token.entity {
        cursor: help;
      }
    </style>
  </head>
  <body>
    <div id="cvbody"></div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.2.0/highlight.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>

    <script>
  function createCvTable(container, data) {
    // Clear any existing content
    container.innerHTML = '';

    // Create a new table element
    const table = document.createElement('table');
    container.appendChild(table);

    // Loop through the object properties or array elements

      for (const key in data) {
      // Create a new table row element
      const tr = document.createElement('tr');
      table.appendChild(tr);

      // Create a new table header element for the key
      // 
          const th = document.createElement('th');
          if ( isNaN(Number(key))) // if key is not number etc"0" "1"
          {
              console.log("from if")
          th.innerHTML = key;
          tr.appendChild(th);
          }
          else{
          th.innerHTML = "";
          tr.appendChild(th);
          }

      // Create a new table data element for the value
      const td = document.createElement('td');

      if (typeof data[key] === 'object') {
        // If the value is an object or array, create a nested CvTable
        td.innerHTML = '';
        createCvTable(td, data[key]);
      } else {
        // Otherwise, display the value as text
        td.innerHTML = data[key];
      }

      tr.appendChild(td);
}
  }
      fetch('cv.yaml')
      .then(response =>
      {if (response.ok)
      return response.text();
      else
        throw new Error('File not found');}
      ).then(yamlText => {
        let data = jsyaml.load(yamlText);
          createCvTable(document.getElementById('cvbody'),data);
      })
      .catch(error => console.error(error));

    </script>
  </body>
</html>
